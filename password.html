<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .container {
            margin: 50px auto 0 auto;
            width: 200px;
            border:1px solid #666666;
            border-radius: 20px;
            padding: 40px;

        }

        .greeting {
            margin: 70px auto 0 auto;
            width: 200px;
        }

        #keypad {
            display: block;
        }
    </style>
</head>
<body>
    <div class="greeting">
        Welcome, <span id="user"></span>
        <div>
            Step available: <span id="steps"></span>
        </div>
    </div>
    <div class="container">
        <form onsubmit="event.preventDefault(); validatePass()">
        <input id="pass" type="text" disabled /><button id="enter" onclick="validatePass()">Enter</button><br>
        </form>
        <div id="keypad">
            <button id="1">1</button><button id="2">2</button><button id="3">3</button><br>
            <button id="4">4</button><button id="5">5</button><button id="6">6</button><br>
            <button id="7">7</button><button id="8">8</button><button id="9">9</button><br>
            <button id="*">*</button><button id="0">0</button><button id="#">#</button><br>
        </div>
    </div>
    <script>
        var password = '';
        var name = '';
        password += Math.floor(Math.random() * 10);
            password += Math.floor(Math.random() * 10);
            password += Math.floor(Math.random() * 10);
            password += Math.floor(Math.random() * 10);
            password += Math.floor(Math.random() * 10);
            password += Math.floor(Math.random() * 10);
        var i = 0;
        
        window.onload = (() => {
            resetGame();
        })

        document.onload = (() => {
            resetGame();
        })
        

        function resetGame(){
            c = 0;
            var i = 0;
            counter = 0;
            document.getElementById('pass').value = '';
            //document.getElementById('pass').setAttribute('disabled');
            password = '';
            password += Math.floor(Math.random() * 10);
            password += Math.floor(Math.random() * 10);
            password += Math.floor(Math.random() * 10);
            password += Math.floor(Math.random() * 10);
            password += Math.floor(Math.random() * 10);
            password += Math.floor(Math.random() * 10);
            console.log('password: ' + password);
            name = prompt("Enter your name: ");
            console.log('name: ' + name);
            document.getElementById('user').innerText = name;
            document.getElementById('steps').innerText = '' + 6;
        }

        

        var c = 0;
        var counter = 0;
        console.log(counter);

        var pass = document.getElementById('pass');
        var one = document.getElementById('1');
        var two = document.getElementById('2');
        var three = document.getElementById('3');
        var four = document.getElementById('4');
        var five = document.getElementById('5');
        var six = document.getElementById('6');
        var seven = document.getElementById('7');
        var eight = document.getElementById('8');
        var nine = document.getElementById('9');
        var zero = document.getElementById('0');
        var keypad = document.getElementById('keypad');
        one.onclick = (() => {
            pressOne();
        })

        two.onclick = (() => {
            pressTwo();
        })

        three.onclick = (() => {
            pressThree();
        })

        four.onclick = (() => {
            pressFour();
        })
        five.onclick = (() => {
            pressFive();
        })
        six.onclick = (() => {
            pressSix();
        })
        seven.onclick = (() => {
            pressSeven();
        })

        eight.onclick = (() => {
            pressEight();
        })
        nine.onclick = (() => {
            pressNine();
        })

        zero.onclick = (() => {
            pressZero();
        })

        function validatePass() {
                console.log('Clicked!');
                var input = document.getElementById('pass').value;
                console.log('Input: ' + input);
                if (input == password)
                {
                    keypad.innerHTML = 'Cool! You got a photographic memory!';
                } else if ( input == '') {
                    
                } else {
                    keypad.innerHTML = 'Good Try, but you got it wrong.';
                }

        }

        function resetButton(){
            setTimeout(function(){
                one.style.background = '';
                two.style.background = '';
                three.style.background = '';
                four.style.background = '';
                five.style.background = '';
                six.style.background = '';
                seven.style.background = '';
                eight.style.background = '';
                nine.style.background = '';
                zero.style.background = '';
            }, 1500);
            
        }

        function pressOne() {
            counter += 1;
            console.log(counter);
            console.log(password[c]);
            if(1 == password[c]){
                one.style.background = "green";
                resetButton();
                c += 1;
            } else {
                one.style.background = "red";
            }
            document.getElementById('steps').innerText = '' + (6 - counter);
            if(counter == 6) keypad.innerHTML = 'Guess Limit! Your score: ' + Math.floor(((c/6)*100));
            if(c == password.length) {keypad.innerHTML = 'You guess right, enter password!!'; pass.removeAttribute('disabled');}
        }
        function pressTwo() {
            counter += 1;
            console.log(counter);
            console.log(password[c]);
            if(2 == password[c]){
                two.style.background = 'green';
                resetButton();
                c += 1;
            } else {
                two.style.background = "red";
            }
            document.getElementById('steps').innerText = '' + (6 - counter);
            if(counter == 6) keypad.innerHTML = 'Guess Limit! Your score: ' + Math.floor(((c/6)*100));
            if(c == password.length) {keypad.innerHTML = 'You guess right, enter password!!'; pass.removeAttribute('disabled');}
        }

        function pressThree() {
            counter += 1;
            console.log(counter);
            console.log(password[c]);
            if(3 == password[c]){
                three.style.background = "green";
                resetButton();
                c += 1;
            } else {
                three.style.background = "red";
            }
            document.getElementById('steps').innerText = '' + (6 - counter);
            if(counter == 6) keypad.innerHTML = 'Guess Limit! Your score: ' + Math.floor(((c/6)*100));
            if(c == password.length) keypad.innerHTML = 'You guess right, enter password!!';
        }

        function pressFour() {
            counter += 1;
            console.log(counter);
            console.log(password[c]);
            if(4 == password[c]){
                four.style.background = "green";
                resetButton();
                c += 1;
            } else {
                four.style.background = "red";
            }
            document.getElementById('steps').innerText = '' + (6 - counter);
            if(counter == 6) keypad.innerHTML = 'Guess Limit! Your score: ' + Math.floor(((c/6)*100));
            if(c == password.length) {keypad.innerHTML = 'You guess right, enter password!!'; pass.removeAttribute('disabled');}
        }
        function pressFive() {
            counter += 1;
            console.log(counter);
            console.log(password[c]);
            if(5 == password[c]){
                five.style.background = "green";
                resetButton();
                c += 1;
            } else {
                five.style.background = "red";
            }
            document.getElementById('steps').innerText = '' + (6 - counter);
            if(counter == 6) keypad.innerHTML = 'Guess Limit! Your score: ' + Math.floor(((c/6)*100));
            if(c == password.length) {keypad.innerHTML = 'You guess right, enter password!!'; pass.removeAttribute('disabled');}
        }
        function pressSix() {
            counter += 1;
            console.log(counter);
            console.log(password[c]);
            if(6 == password[c]){
                six.style.background = "green";
                resetButton();
                c += 1;
            } else {
                six.style.background = "red";
            }
            document.getElementById('steps').innerText = '' + (6 - counter);
            if(counter == 6) keypad.innerHTML = 'Guess Limit! Your score: ' + Math.floor(((c/6)*100));
            if(c == password.length) {keypad.innerHTML = 'You guess right, enter password!!'; pass.removeAttribute('disabled');}
        }
        function pressSeven() {
            counter += 1;
            console.log(counter);
            console.log(password[c]);
            if(7 == password[c]){
                seven.style.background = "green";
                resetButton();
                c += 1;
            } else {
                seven.style.background = "red";
            }
            document.getElementById('steps').innerText = '' + (6 - counter);
            if(counter == 6) keypad.innerHTML = 'Guess Limit! Your score: ' + Math.floor(((c/6)*100));
            if(c == password.length) {keypad.innerHTML = 'You guess right, enter password!!'; pass.removeAttribute('disabled');}
        }
        function pressEight() {
            counter += 1;
            console.log(counter);
            console.log(password[c]);
            if(8 == password[c]){
                eight.style.background = "green";
                resetButton();
                c += 1;
            } else {
                eight.style.background = "red";
            }
            document.getElementById('steps').innerText = '' + (6 - counter);
            if(counter == 6) keypad.innerHTML = 'Guess Limit! Your score: ' + Math.floor(((c/6)*100));
            if(c == password.length) {keypad.innerHTML = 'You guess right, enter password!!'; pass.removeAttribute('disabled');}
        }
        function pressNine() {
            counter += 1;
            console.log(counter);

            console.log(password[c]);
            if(9 == password[c]){
                nine.style.background = "green";
                resetButton();
                c += 1;
            } else {
                nine.style.background = "red";
            }
            document.getElementById('steps').innerText = '' + (6 - counter);
            if(counter == 6) keypad.innerHTML = 'Guess Limit! Your score: ' + Math.floor(((c/6)*100));
            if(c == password.length) {
                keypad.innerHTML = 'You guess right, enter password!!'; 
                pass.removeAttribute('disabled');
            }
        }
        function pressZero() {
            counter += 1;
            console.log(counter);
            console.log(password[c]);
            if(0 == password[c]){
                zero.style.background = "green";
                resetButton();
                c += 1;
            } else {
                zero.style.background = "red";
            }
            document.getElementById('steps').innerText = '' + (6 - counter); 
            if(counter == 6) keypad.innerHTML = 'Guess Limit! Your score: ' + Math.floor(((c/6)*100));
            if(c == password.length) {keypad.innerHTML = 'You guess right, enter password!!'; pass.removeAttribute('disabled');}
        }

        window.addEventListener("keydown", (event) => {
				console.log(event);

				switch (event.key) {
					case "1":
						console.log('pressed 1');
                        pressOne();
						break;
                    case "2":
						console.log('pressed 2');
                        pressTwo();
						break;
                    case "3":
						console.log('pressed 3');
                        pressThree();
						break;
                    case "4":
						console.log('pressed 4');
                        pressFour();
						break;
                    case "5":
						console.log('pressed 5');
                        pressFive();
						break;
                    case "6":
						console.log('pressed 6');
                        pressSeven();
						break;
                    case "7":
						console.log('pressed 7');
                        pressSeven();
						break;
                    case "8":
						console.log('pressed 8');
                        pressEight();
						break;
                    case "9":
						console.log('pressed 9');
                        pressNine();
						break;
                    case "0":
						console.log('pressed 0');
                        pressZero();
						break;
                                            
				}

			})  
    </script>
</body>
</html>